(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{17:function(t,e,a){},19:function(t,e,a){"use strict";a.r(e);var s=a(1),n=a.n(s),r=a(12),i=a.n(r),c=a(10),o=a(4),d=a(5),l=a(2),u=a(7),h=a(6),b=a(21),k=(a(17),a(3)),j=a(0),f=function(t){var e=Object(s.useState)(""),a=Object(k.a)(e,2),n=a[0],r=a[1],i=Object(s.useState)(""),c=Object(k.a)(i,2),o=c[0],d=c[1],l=Object(s.useState)(!1),u=Object(k.a)(l,2),h=u[0],b=u[1];return Object(s.useEffect)((function(){r(t.current_task.name),d(t.current_task.description)}),[t]),Object(j.jsx)("div",{className:"translucent-background",children:Object(j.jsx)("div",{className:"rename-task-box",children:Object(j.jsxs)("div",{className:"form",children:[Object(j.jsx)("p",{className:"form-title",children:"Rename"}),Object(j.jsx)("p",{className:"error-msg",style:{visibility:h?"visible":"hidden"},children:"Title can't be empty"}),Object(j.jsx)("label",{className:"form-label-text",htmlFor:"rename-task-title",children:"Title: "}),Object(j.jsx)("input",{className:"form-input",id:"rename-task-title",type:"text",value:n,onChange:function(t){return r(t.target.value)},placeholder:"Enter task name..",autoComplete:"off",required:!0}),Object(j.jsx)("label",{className:"form-label-text",htmlFor:"add-task-description",children:"Description: "}),Object(j.jsx)("input",{className:"form-input",id:"add-task-description",type:"text",value:o,onChange:function(t){return d(t.target.value)},placeholder:"Optional",autoComplete:"off"}),Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)("button",{className:"btn-gn",onClick:f,children:Object(j.jsx)("i",{className:"fas fa-times"})}),Object(j.jsx)("button",{className:"btn-gn",onClick:function(){n.length>0?(t.updateTask(t.current_task.id,n,o),f()):(b(!0),setTimeout((function(){b(!1)}),1500))},children:Object(j.jsx)("i",{className:"fas fa-check"})})]})]})})});function f(){t.setShowSettings(!1)}},m=function(t){return Object(j.jsx)("div",{className:"translucent-background",children:Object(j.jsxs)("div",{className:"form form-sm",children:[Object(j.jsx)("p",{className:"form-title m-b",children:"Are you sure to delete ?"}),Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)("button",{className:"btn-gn",onClick:e,children:Object(j.jsx)("i",{className:"fas fa-times"})}),Object(j.jsx)("button",{className:"btn-gn",onClick:function(){t.deleteTask(t.current_task.id),e()},children:Object(j.jsx)("i",{className:"fas fa-check"})})]})]})});function e(){t.setShowSettings(!1)}},p=function(t){var e=Object(s.useState)(!1),a=Object(k.a)(e,2),r=a[0],i=a[1],c=Object(s.useState)(!1),o=Object(k.a)(c,2),d=o[0],l=o[1];return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsxs)("div",{className:"drop-down-menu",children:[Object(j.jsx)("button",{onClick:function(){i(!r)},children:"Rename"}),Object(j.jsx)("button",{onClick:function(){l(!d)},children:"Delete"}),Object(j.jsx)("button",{onClick:function(){var e=new Date,a=e.getFullYear(),s=e.getMonth(),n=e.getDate();t.markDay(a,s,n),t.setShowSettings(!1)},children:"Mark Today"})]}),r&&Object(j.jsx)(f,{current_task:t.current_task,updateTask:t.updateTask,setShowSettings:t.setShowSettings}),d&&Object(j.jsx)(m,{current_task:t.current_task,deleteTask:t.deleteTask,setShowSettings:t.setShowSettings})]})},O=function(t){var e=Object(s.useState)(!1),a=Object(k.a)(e,2),r=a[0],i=a[1];return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsxs)("nav",{className:"main-navbar",style:{position:"relative"},children:[Object(j.jsx)("button",{className:"button-md rotate-btn",style:{visibility:t.dashboardVisible?"hidden":"visible"},onClick:function(){return t.setDashboardVisibility(!0)},children:Object(j.jsx)("i",{className:"fas fa-bars"})}),Object(j.jsx)("button",{className:"button-md rotate-btn",onClick:function(){i(!r)},children:Object(j.jsx)("i",{className:"fas fa-cog"})})]}),r&&Object(j.jsx)(p,{setShowSettings:i,current_task:t.current_task,updateTask:t.updateTask,deleteTask:t.deleteTask,markDay:t.markDay})]})},y=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(o.a)(this,a),(s=e.call(this,t)).months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s.longDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s.shorDays=["Sun","Mon","Tue","Wed"," Thu","Fri","Sat"],s.areDaysLong=!0,s.state={daysOfWeek:window.innerWidth>600?s.longDays:s.shorDays,blankDays:0,totalDaysInMonth:0,num_days:[]},s.currdate=null,s.prevdate=null,s.markDay=s.markDay.bind(Object(l.a)(s)),s.getCurrentMonthAndYear=s.getCurrentMonthAndYear.bind(Object(l.a)(s)),s.updateMarkedDays=s.updateMarkedDays.bind(Object(l.a)(s)),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.props.date;this.setState({blankDays:this.getBlankDays(e),totalDaysInMonth:this.getTotalDaysInMonth(e)}),this.currdate=e,this.updateMarkedDays(),window.addEventListener("resize",(function(){window.innerWidth<600&&t.areDaysLong?(t.setState({daysOfWeek:t.shorDays}),t.areDaysLong=!1):window.innerWidth>600&&!t.areDaysLong&&(t.setState({daysOfWeek:t.longDays}),t.areDaysLong=!0)}))}},{key:"componentDidUpdate",value:function(t){if(this.prevdate=this.currdate,this.currdate=this.props.date,this.prevdate&&this.prevdate.getTime()!==this.currdate.getTime()){var e=this.props.date;this.setState({blankDays:this.getBlankDays(e),totalDaysInMonth:this.getTotalDaysInMonth(e)})}t.current_task.id===this.props.current_task.id&&t.current_task.uat===this.props.current_task.uat&&t.date===this.props.date||this.updateMarkedDays()}},{key:"render",value:function(){var t=this,e=(new Date).getDate();return Object(j.jsxs)("div",{className:"cal-grid-container",children:[this.state.daysOfWeek.map((function(t,e){return Object(j.jsx)("div",{children:t},e)})),this.getDays(this.state.totalDaysInMonth).map((function(a){var s=1===a?{gridColumn:"".concat(t.state.blankDays," / ").concat(t.state.blankDays+1)}:{},n=t.state.num_days.includes(a.toString())?"calendar-date-marked":"",r=a===e?"calendar-today":"";return Object(j.jsx)("div",{style:s,"data-date":a,className:"calendar-tile ".concat(n," ").concat(r),onContextMenu:function(t){return t.preventDefault()},children:a},a)}))]})}},{key:"updateMarkedDays",value:function(){var t=this.getCurrentMonthAndYear(),e=Object(k.a)(t,2),a=e[0],s=e[1],n=this.months[a].toLowerCase(),r=this.props.current_task.dates,i=[];r[s]&&r[s][n]&&(i=r[s][n]),this.setState({num_days:i})}},{key:"markDay",value:function(t){t.preventDefault();var e=t.target.getAttribute("data-date"),a=this.getCurrentMonthAndYear(),s=Object(k.a)(a,2),n=s[0],r=s[1];this.props.markDay(r,n,e)}},{key:"getCurrentMonthAndYear",value:function(){var t=new Date(this.props.date);return[t.getMonth(),t.getFullYear()]}},{key:"getBlankDays",value:function(t){return t.setDate(1),t.getDay()+1}},{key:"getTotalDaysInMonth",value:function(t){var e=t.getFullYear(),a=t.getMonth()+1;return new Date(e,a,0).getDate()}},{key:"getDays",value:function(t){for(var e=[],a=1;a<=t;a++)e.push(a);return e}}]),a}(n.a.Component);var g=function(t){var e=t.date&&["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.date.getMonth()]+" "+t.date.getFullYear(),a=Object(s.useState)(t.current_task),n=Object(k.a)(a,2),r=n[0],i=n[1],c=Object(s.useState)(!1),o=Object(k.a)(c,2),d=o[0],l=o[1];return Object(s.useEffect)((function(){i(t.current_task)}),[t.current_task]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"calender-title",children:[r.name,Object(j.jsx)("i",{className:"fas fa-question-circle",style:{marginLeft:"0.8em",fontSize:"0.8em"},onMouseEnter:function(){l(!0)},onMouseLeave:function(){l(!1)}}),d&&Object(j.jsx)("p",{className:"sm-tooltip",children:r.description})]}),Object(j.jsxs)("div",{className:"secondary-navbar",children:[Object(j.jsx)("button",{className:"button-md",onClick:function(){return function(t,e){var a=t.getFullYear(),s=t.getMonth(),n=t.getDate();s<=0?(a--,s=11):s--;e(new Date(a,s,n))}(t.date,t.changeDate)},children:Object(j.jsx)("i",{className:"fas fa-chevron-left"})}),Object(j.jsx)("span",{children:e}),Object(j.jsx)("button",{className:"button-md",onClick:function(){return function(t,e){var a=t.getFullYear(),s=t.getMonth(),n=t.getDate();s>=11?(a++,s=0):s++;e(new Date(a,s,n))}(t.date,t.changeDate)},children:Object(j.jsx)("i",{className:"fas fa-chevron-right"})})]})]})},v=function(t){var e=Object(s.useState)(""),a=Object(k.a)(e,2),n=a[0],r=a[1],i=Object(s.useState)(""),c=Object(k.a)(i,2),o=c[0],d=c[1],l=Object(s.useState)(!1),u=Object(k.a)(l,2),h=u[0],b=u[1];return Object(j.jsxs)("div",{className:"add-new-form",children:[Object(j.jsx)("p",{className:"error-msg",style:{visibility:h?"visible":"hidden"},children:"name mustn't be empty"}),Object(j.jsx)("label",{className:"form-label-text",htmlFor:"add-task-title",children:"Title: "}),Object(j.jsx)("input",{className:"form-input",id:"add-task-title",type:"text",value:n,onChange:function(t){return r(t.target.value)},placeholder:"Enter task name..",autoComplete:"off"}),Object(j.jsx)("label",{className:"form-label-text",htmlFor:"add-task-description",children:"Description: "}),Object(j.jsx)("input",{className:"form-input",id:"add-task-description",type:"text",value:o,onChange:function(t){return d(t.target.value)},placeholder:"Optional",autoComplete:"off"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:"btn-gn",style:{fontSize:"1.3em"},onClick:t.closeDialog,children:Object(j.jsx)("i",{className:"fas fa-times"})}),Object(j.jsx)("button",{className:"btn-gn",style:{fontSize:"1.3em"},onClick:function(){n?(t.addTask(n,o),r(""),t.closeDialog(),t.setDashboardVisibility(!1)):(b(!0),setTimeout((function(){b(!1)}),1400))},children:Object(j.jsx)("i",{className:"fas fa-check"})})]})]})},D=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(o.a)(this,a),(s=e.call(this,t)).state={showAddNewBox:!1,current_task:null},s.showAddNewDialogBox=s.showAddNewDialogBox.bind(Object(l.a)(s)),s.selectTask=s.selectTask.bind(Object(l.a)(s)),s.taskMarked=s.taskMarked.bind(Object(l.a)(s)),s}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){this.state.current_task!==this.props.current_task&&this.setState({current_task:this.props.current_task})}},{key:"selectTask",value:function(t){this.props.setCurrentTask(t.target.getAttribute("data-key")),this.props.setDashboardVisibility(!1)}},{key:"render",value:function(){var t=this;return Object(j.jsxs)("div",{className:"dashboard",style:{transform:this.props.dashboardVisible?"translateX(0)":"translateX(-105%)"},children:[Object(j.jsx)("button",{className:"btn-gn dashboard-close-btn",onClick:function(){t.props.setDashboardVisibility(!1),t.showAddNewDialogBox(!0)},children:Object(j.jsx)("i",{className:"fas fa-times"})}),Object(j.jsx)("p",{className:"dashboard-title",children:"Tasks"}),Object(j.jsx)("button",{className:"btn-dashboard create-new-btn",onClick:function(){t.showAddNewDialogBox(!1)},children:"Create new"}),this.state.showAddNewBox&&Object(j.jsx)(v,{closeDialog:this.showAddNewDialogBox,addTask:this.props.addTask,setDashboardVisibility:this.props.setDashboardVisibility}),Object(j.jsx)("span",{className:"horizontal-break"}),Object(j.jsx)("ul",{children:this.props.tasklist.map((function(e){return Object(j.jsx)("li",{className:"task-list-item"+(t.state.current_task===e.id?" task-selected":"")+t.taskMarked(e),"data-key":e.id,onClick:t.selectTask,children:e.name},e.id)}))})]})}},{key:"showAddNewDialogBox",value:function(t){this.setState((function(e){return{showAddNewBox:!t&&!e.showAddNewBox}}))}},{key:"taskMarked",value:function(t){var e=new Date,a=[e.getFullYear(),e.getMonth(),e.getDate()],s=a[0],n=a[1],r=a[2],i=[s.toString(),n.toString(),r.toString()];s=i[0],n=i[1],r=i[2];var o=Object(c.a)(this.props.allMonths);return o.forEach((function(t,e){o[e]=t.toLowerCase()})),t.dates[s]&&t.dates[s][o[n]]&&t.dates[s][o[n]].includes(r)?" task-marked":""}}]),a}(n.a.Component),x=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var s;return Object(o.a)(this,a),(s=e.call(this,t)).state={displayDate:new Date,calendar_data:{tasks:[]},current_task:null,dashboardVisible:!1},s.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s.changeDate=s.changeDate.bind(Object(l.a)(s)),s.addNewTaskToState=s.addNewTaskToState.bind(Object(l.a)(s)),s.setDashboardVisibility=s.setDashboardVisibility.bind(Object(l.a)(s)),s.setCurrentTask=s.setCurrentTask.bind(Object(l.a)(s)),s.updateLocalStorage=s.updateLocalStorage.bind(Object(l.a)(s)),s.markDay=s.markDay.bind(Object(l.a)(s)),s.getCurrentTask=s.getCurrentTask.bind(Object(l.a)(s)),s.updateTask=s.updateTask.bind(Object(l.a)(s)),s.deleteTask=s.deleteTask.bind(Object(l.a)(s)),s.alphasort=s.alphasort.bind(Object(l.a)(s)),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=JSON.parse(localStorage.getItem("calendar-data"));if(t)this.setState({calendar_data:{tasks:t.tasks},current_task:t.currTask||t.tasks.length&&t.tasks[0].id});else{this.updateLocalStorage({tasks:[],currTask:null})}}},{key:"render",value:function(){return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(O,{dashboardVisible:this.state.dashboardVisible,setDashboardVisibility:this.setDashboardVisibility,current_task:this.getCurrentTask(),updateTask:this.updateTask,deleteTask:this.deleteTask,markDay:this.markDay}),Object(j.jsx)(D,{addTask:this.addNewTaskToState,tasklist:this.alphasort(this.state.calendar_data.tasks),current_task:this.state.current_task,dashboardVisible:this.state.dashboardVisible,setDashboardVisibility:this.setDashboardVisibility,setCurrentTask:this.setCurrentTask,allMonths:this.months}),this.state.current_task?Object(j.jsx)(g,{date:this.state.displayDate,changeDate:this.changeDate,current_task:this.getCurrentTask()}):null,this.state.current_task?Object(j.jsx)(y,{date:this.state.displayDate,current_task:this.getCurrentTask(),markDay:this.markDay}):null]})}},{key:"alphasort",value:function(t){var e=JSON.parse(JSON.stringify(t));return e.sort((function(t,e){return(t=t.name.toLowerCase())<(e=e.name.toLowerCase())?-1:t>e?1:0})),e}},{key:"getCurrentTask",value:function(){var t=this;return this.state.calendar_data.tasks.filter((function(e){return e.id===t.state.current_task}))[0]}},{key:"updateLocalStorage",value:function(t){localStorage.setItem("calendar-data",JSON.stringify(t))}},{key:"changeDate",value:function(t){this.setState({displayDate:t})}},{key:"addNewTaskToState",value:function(t,e){var a=this,s={id:Object(b.a)(),name:t,description:e,uat:new Date,dates:{}};this.setState((function(t){return{calendar_data:{tasks:[].concat(Object(c.a)(t.calendar_data.tasks),[s])},current_task:s.id}}),(function(){var t={tasks:a.state.calendar_data.tasks,currTask:a.state.current_task};a.updateLocalStorage(t)}))}},{key:"updateTask",value:function(t,e,a){var s=this,n=this.state.calendar_data.tasks.filter((function(e){return e.id===t}))[0],r=JSON.parse(JSON.stringify(n));r.name=e,r.description=a;var i=this.state.calendar_data.tasks.filter((function(e){return e.id!==t}));i.push(r),this.setState({calendar_data:{tasks:i}},(function(){s.updateLocalStorage({tasks:s.state.calendar_data.tasks,currTask:s.state.current_task})}))}},{key:"deleteTask",value:function(t){var e=this,a=this.state.calendar_data.tasks.filter((function(e){return e.id!==t}));this.setState({calendar_data:{tasks:a},current_task:a.length>0?a[0].id:null},(function(){e.updateLocalStorage({tasks:e.state.calendar_data.tasks,currTask:e.state.current_task})}))}},{key:"setDashboardVisibility",value:function(t){this.setState({dashboardVisible:t})}},{key:"setCurrentTask",value:function(t){var e=this;this.setState({current_task:t},(function(){var t={tasks:e.state.calendar_data.tasks,currTask:e.state.current_task};e.updateLocalStorage(t)}))}},{key:"markDay",value:function(t,e,a){var s=this;t=t.toString(),e=e.toString(),a=a.toString();var n=this.months[e].toLowerCase(),r=this.state.calendar_data.tasks.filter((function(t){return t.id===s.state.current_task}))[0],i=JSON.parse(JSON.stringify(r));if(i.dates[t]||(i.dates[t]={}),i.dates[t][n]||(i.dates[t][n]=[]),i.dates[t][n].includes(a)){var c=[];i.dates[t][n].forEach((function(t){t!==a&&c.push(t)})),i.dates[t][n]=c}else i.dates[t][n].push(a);var o=this.state.calendar_data.tasks.filter((function(t){return t.id!==s.state.current_task}));i.uat=new Date,o.push(i),this.setState({calendar_data:{tasks:o}},(function(){s.updateLocalStorage({tasks:s.state.calendar_data.tasks,currTask:s.state.current_task})}))}}]),a}(n.a.Component);i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.123f2c41.chunk.js.map